# Security CI Pipeline

This repository includes a self-healing security CI/CD pipeline.

## What It Does

**Stage 1: Automated Scanning**
- ğŸ” Secrets detection (Gitleaks)
- ğŸ” Python SAST (Bandit)
- ğŸ” Dependency scanning (npm audit, Safety)
- ğŸ” SAST (Semgrep, ESLint)
- ğŸ” Container scanning (Trivy)
- ğŸ” IaC scanning (Checkov)

**Stage 2: Auto-Fix**
- ğŸ”§ `npm audit fix` - Fix dependency vulnerabilities
- ğŸ”§ `eslint --fix` - Fix code quality issues
- ğŸ”§ `autopep8/black` - Fix Python formatting
- ğŸ”§ `ruff --fix` - Fix Python linting

**Stage 3: Intelligent Escalation**
- ğŸ¤– AI-powered fix attempts for complex issues
- ğŸ“§ Notifications for manual review
- ğŸ“Š Detailed reports and recommendations

## How It Works

### On Every Push/PR
1. **Scan**: Run all security scanners
2. **Auto-fix**: Apply automated fixes
3. **Commit**: Push fixes back to branch
4. **Report**: Comment on PR with results

### On Daily Schedule
- Run full security scan
- Update dependencies
- Check for new vulnerabilities

### On Failure
- Attempt AI-powered fixes (Stage 2)
- Create issue for manual review if needed
- Notify team

## Setup

### Required Secrets
None! The workflow uses `GITHUB_TOKEN` which is automatically provided.

### Optional Configuration
- **Enable AI fixes**: Requires Ollama API access (future)
- **Custom scan rules**: Add `.semgrep/` directory
- **Notification preferences**: Configure in workflow file

## Reports

Scan results are:
- ğŸ“¤ Uploaded as artifacts (30-day retention)
- ğŸ’¬ Commented on pull requests
- ğŸ“Š Available in Actions tab

## Customization

Edit [`.github/workflows/security-ci.yml`](.github/workflows/security-ci.yml) to:
- Add/remove scanners
- Modify auto-fix behavior
- Configure notifications
- Adjust scan schedule

## Troubleshooting

### Workflow keeps failing
Check scan results in the Actions tab. Most issues are auto-fixed, but some require manual intervention.

### Too many notifications
Adjust the `continue-on-error` flags in the workflow to suppress non-critical failures.

### Want to disable auto-fix
Comment out the "Auto-fix issues" and "Commit auto-fixes" steps.

---

**Generated by**: GP-CONSULTING Phase 2 Stage 3
**Version**: 1.0
